<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/Nextcloud-NAS-Guide/news/rss.xml" title="Nextcloud-NAS-Guide Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Nextcloud-NAS-Guide/news/atom.xml" title="Nextcloud-NAS-Guide Blog Atom Feed"><title data-react-helmet="true">How to drastically improve Nextcloud&#x27;s performance inside your home network? | Nextcloud-NAS-Guide</title><meta data-react-helmet="true" property="og:url" content="https://szaimen.github.io/Nextcloud-NAS-Guide/docs/improve-performance"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to drastically improve Nextcloud&#x27;s performance inside your home network? | Nextcloud-NAS-Guide"><meta data-react-helmet="true" name="description" content="After a recent switch to new server hardware, I&#x27;ve discovered that Nextcloud wasn&#x27;t performing better than before although the hardware and software configuration got better by a lot which pointed to a bottleneck somewhere else. Because of my findings, I&#x27;ve decided to create this FAQ guide how to improve the performance of your Nextcloud installation."><meta data-react-helmet="true" property="og:description" content="After a recent switch to new server hardware, I&#x27;ve discovered that Nextcloud wasn&#x27;t performing better than before although the hardware and software configuration got better by a lot which pointed to a bottleneck somewhere else. Because of my findings, I&#x27;ve decided to create this FAQ guide how to improve the performance of your Nextcloud installation."><link data-react-helmet="true" rel="shortcut icon" href="/Nextcloud-NAS-Guide/img/favicon.webp"><link data-react-helmet="true" rel="canonical" href="https://szaimen.github.io/Nextcloud-NAS-Guide/docs/improve-performance"><link data-react-helmet="true" rel="alternate" href="https://szaimen.github.io/Nextcloud-NAS-Guide/docs/improve-performance" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://szaimen.github.io/Nextcloud-NAS-Guide/docs/improve-performance" hreflang="x-default"><link rel="stylesheet" href="/Nextcloud-NAS-Guide/assets/css/styles.2b2e5844.css">
<link rel="preload" href="/Nextcloud-NAS-Guide/assets/js/runtime~main.27fdb991.js" as="script">
<link rel="preload" href="/Nextcloud-NAS-Guide/assets/js/main.fc07e004.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Nextcloud-NAS-Guide/"><img src="/Nextcloud-NAS-Guide/img/favicon.webp" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/Nextcloud-NAS-Guide/img/favicon.webp" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nextcloud-NAS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Nextcloud-NAS-Guide/docs/">Guide</a><a class="navbar__item navbar__link" href="/Nextcloud-NAS-Guide/news">News</a><a href="https://github.com/szaimen/Nextcloud-NAS-Guide/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Nextcloud-NAS-Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Before you start</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basic setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security and Automation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Backup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">SMB-server</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Customize Nextcloud</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Activate Let&#x27;s Encrypt</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Optional</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">FAQ</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/faq">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Nextcloud-NAS-Guide/docs/improve-performance">Improve Nextcloud Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/reduce-power-consumption">Reduce power consumption</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/manual-backup">Create Backup manually</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/major-update">Major Nextcloud Update</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/create-new-users">Create new users after initial setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/restore-files">Restore files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/restore-system">Restore system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/subdomain-cname">Create subdomain and edit CNAME entry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/mount-hdd">Mount HDD for Movies/TV-Shows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/smb-connect">Connect via SMB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/rdp-connect">Connect via Remotedesktop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/lynis">Security Audit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nextcloud-NAS-Guide/docs/restore-backup">Restore Backup/Upgrade Ubuntu</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">How to drastically improve Nextcloud&#x27;s performance inside your home network?</h1></header><p>After a recent switch to new server hardware, I&#x27;ve discovered that Nextcloud wasn&#x27;t performing better than before although the hardware and software configuration got better by a lot which pointed to a bottleneck somewhere else. Because of my findings, I&#x27;ve decided to create this FAQ guide how to improve the performance of your Nextcloud installation.</p><p>First of all, here are some general network advices that I&#x27;ve followed which helped me identifying the real bottleneck.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="general-network-advices"></a>General network advices<a class="hash-link" href="#general-network-advices" title="Direct link to heading">#</a></h2><ul><li>Since you are running a server in your home network, your internet upload speed matters if you are accessing your server from somewhere else. Currently, (at least in germany) coaxial connections (via the TV network) aren&#x27;t recommended since they feature a very limited upload speed. Better are DSL connections since they have a better upload speed at limited costs. The best are fiber connections because of much higher upload (and download) speeds than the other two but are (at least in germany) very expensive and not often available. Not recommended are any other connections like e.g. LTE (4G) or Hybrid connections.</li><li>Use a capable router for your home network. Especially, if you plan to access your server via Wi-fi, the router should feature as much Wi-fi bandwidth as possible. Currently, (24.03.2021) routers are recommended with at least Wi-fi 5 (ac) or better Wi-fi 6 (ax).<br>
For DSL connections is currently (24.03.2021) the <a href="https://geizhals.eu/avm-fritz-box-7530-ax-a2411180.html?hloc=at&amp;hloc=de&amp;hloc=eu&amp;hloc=pl&amp;hloc=uk" target="_blank" rel="noopener noreferrer">FRITZ!Box 7530 AX</a> recommended</li><li>Also make sure, that you connect to your router via the 5 GHz network and not 2.4 GHz network <br>
(Usually, you can e.g. give the different frequencies a different name in your routers GUI. By doing so, you can make sure that your devices get always connected to the correct network)</li><li>If your appartment/house is too big for the 5 GHz network for a complete and speedy coverage (for debugging purposes, you can use e.g. the <a href="https://en.avm.de/products/fritzapps/fritzapp-wlan" target="_blank" rel="noopener noreferrer">FRITZ!App WLAN</a>. A good rule of thumb is that you need a repeater if the 2.4 GHz speed exceeds the 5 GHz speed in rooms that need to get covered by Wi-fi), you should buy a Wi-fi repeater also with Wi-fi 5 or Wi-fi 6 that should get connected to your router via an ethernet cable (hence the repeater needs an ethernet port to be able to do that)<br>
Recommended is currently (24.03.2021) the <a href="https://geizhals.eu/avm-fritz-repeater-2400-20002855-a2082185.html" target="_blank" rel="noopener noreferrer">FRITZ!Repeater 2400</a><br>
(Please note that you might be able to achieve a better Wi-fi coverage of your appartment/house by moving the router to a better place where it covers more rooms before buying additional Wi-fi repeaters)</li><li>Your server should be directly connect to your router via an ethernet cable. Make sure that you use at least a Gbit ethernet cable for this, it must at least match the speed of the ethernet port on your server and router. (The same applies to Wi-fi repeaters that I&#x27;ve mentioned above)<br>
(Usually, you can check the connection speed to all devices in your routers GUI.) </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="solution"></a>Solution<a class="hash-link" href="#solution" title="Direct link to heading">#</a></h2><p>After testing some network changes, I found out that the router actually seems to be the bottleneck in my home network. My theory is that the so called <code>NAT</code> which means <code>Network Address Translation</code> is the bottleneck here. It resolves requests from the public IP-address to the local IP-address of my server. By using a local DNS server, I was able to bridge <code>NAT</code> and improve the performance a by a lot. Requests to my Nextcloud in my home network are now nearly as fast as my network is capable of.</p><p>To profit from the same changes, you simply install the Pi-hole on your server (<a href="/Nextcloud-NAS-Guide/docs/pi-hole">instructions</a>) and make it the DNS server of your whole home network (as adviced <a href="/Nextcloud-NAS-Guide/docs/pi-hole#what-to-do-now">here</a>)</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/szaimen/Nextcloud-NAS-Guide/edit/main/docs/improve-performance.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Nextcloud-NAS-Guide/docs/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Nextcloud-NAS-Guide/docs/reduce-power-consumption"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reduce power consumption Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-network-advices" class="table-of-contents__link">General network advices</a></li><li><a href="#solution" class="table-of-contents__link">Solution</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nextcloud-NAS-Guide/docs/impressum">Impressum</a></li><li class="footer__item"><a class="footer__link-item" href="/Nextcloud-NAS-Guide/docs/privacy">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 <a href="https://github.com/szaimen">szaimen</a> - Built with Docusaurus.</div></div></div></footer></div>
<script src="/Nextcloud-NAS-Guide/assets/js/runtime~main.27fdb991.js"></script>
<script src="/Nextcloud-NAS-Guide/assets/js/main.fc07e004.js"></script>
</body>
</html>